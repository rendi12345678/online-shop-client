{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  allowedStatusCodes: null,\n  getRedirectStatus: null,\n  modifyRouteRegex: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  allowedStatusCodes: function () {\n    return allowedStatusCodes;\n  },\n  getRedirectStatus: function () {\n    return getRedirectStatus;\n  },\n  modifyRouteRegex: function () {\n    return modifyRouteRegex;\n  }\n});\nconst _constants = require(\"../shared/lib/constants\");\nconst allowedStatusCodes = new Set([301, 302, 303, 307, 308]);\nfunction getRedirectStatus(route) {\n  return route.statusCode || (route.permanent ? _constants.PERMANENT_REDIRECT_STATUS : _constants.TEMPORARY_REDIRECT_STATUS);\n}\nfunction modifyRouteRegex(regex, restrictedPaths) {\n  if (restrictedPaths) {\n    regex = regex.replace(/\\^/, `^(?!${restrictedPaths.map(path => path.replace(/\\//g, \"\\\\/\")).join(\"|\")})`);\n  }\n  regex = regex.replace(/\\$$/, \"(?:\\\\/)?$\");\n  return regex;\n}","map":{"version":3,"names":["allowedStatusCodes","getRedirectStatus","modifyRouteRegex","Set","route","statusCode","permanent","_constants","PERMANENT_REDIRECT_STATUS","TEMPORARY_REDIRECT_STATUS","regex","restrictedPaths","replace","map","path","join"],"sources":["../../src/lib/redirect-status.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;EAKaA,kBAAkB,WAAAA,CAAA;WAAlBA,kBAAA;;EAEGC,iBAAiB,WAAAA,CAAA;WAAjBA,iBAAA;;EAaAC,gBAAgB,WAAAA,CAAA;WAAhBA,gBAAA;;;2BAjBT;AAEA,MAAMF,kBAAA,GAAqB,IAAIG,GAAA,CAAI,CAAC,KAAK,KAAK,KAAK,KAAK,IAAI;AAE5D,SAASF,kBAAkBG,KAGjC;EACC,OACEA,KAAA,CAAMC,UAAU,KACfD,KAAA,CAAME,SAAS,GAAGC,UAAA,CAAAC,yBAAyB,GAAGD,UAAA,CAAAE,yBAAyB,CAAD;AAE3E;AAKO,SAASP,iBAAiBQ,KAAa,EAAEC,eAA0B;EACxE,IAAIA,eAAA,EAAiB;IACnBD,KAAA,GAAQA,KAAA,CAAME,OAAO,CACnB,MACC,OAAMD,eAAA,CACJE,GAAG,CAAEC,IAAA,IAASA,IAAA,CAAKF,OAAO,CAAC,OAAO,QAClCG,IAAI,CAAC,IAAK,GAAE;EAEnB;EACAL,KAAA,GAAQA,KAAA,CAAME,OAAO,CAAC,OAAO;EAC7B,OAAOF,KAAA;AACT"},"metadata":{},"sourceType":"script","externalDependencies":[]}