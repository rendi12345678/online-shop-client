{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"parseRelativeUrl\", {\n  enumerable: true,\n  get: function () {\n    return parseRelativeUrl;\n  }\n});\nconst _utils = require(\"../../utils\");\nconst _querystring = require(\"./querystring\");\nfunction parseRelativeUrl(url, base) {\n  const globalBase = new URL(typeof window === \"undefined\" ? \"http://n\" : (0, _utils.getLocationOrigin)());\n  const resolvedBase = base ? new URL(base, globalBase) : url.startsWith(\".\") ? new URL(typeof window === \"undefined\" ? \"http://n\" : window.location.href) : globalBase;\n  const {\n    pathname,\n    searchParams,\n    search,\n    hash,\n    href,\n    origin\n  } = new URL(url, resolvedBase);\n  if (origin !== globalBase.origin) {\n    throw new Error(\"invariant: invalid relative URL, router received \" + url);\n  }\n  return {\n    pathname,\n    query: (0, _querystring.searchParamsToUrlQuery)(searchParams),\n    search,\n    hash,\n    href: href.slice(globalBase.origin.length)\n  };\n}","map":{"version":3,"names":["parseRelativeUrl","url","base","globalBase","URL","window","_utils","getLocationOrigin","resolvedBase","startsWith","location","href","pathname","searchParams","search","hash","origin","Error","query","_querystring","searchParamsToUrlQuery","slice","length"],"sources":["../../../../../src/shared/lib/router/utils/parse-relative-url.ts"],"sourcesContent":[null],"mappings":";;;;;+BAkBgB;;;WAAAA,gBAAA;;;uBAjBkB;6BACK;AAgBhC,SAASA,iBACdC,GAAW,EACXC,IAAa;EAEb,MAAMC,UAAA,GAAa,IAAIC,GAAA,CACrB,OAAOC,MAAA,KAAW,cAAc,aAAa,IAAAC,MAAA,CAAAC,iBAAiB;EAGhE,MAAMC,YAAA,GAAeN,IAAA,GACjB,IAAIE,GAAA,CAAIF,IAAA,EAAMC,UAAA,IACdF,GAAA,CAAIQ,UAAU,CAAC,OACf,IAAIL,GAAA,CAAI,OAAOC,MAAA,KAAW,cAAc,aAAaA,MAAA,CAAOK,QAAQ,CAACC,IAAI,IACzER,UAAA;EAEJ,MAAM;IAAES,QAAQ;IAAEC,YAAY;IAAEC,MAAM;IAAEC,IAAI;IAAEJ,IAAI;IAAEK;EAAM,CAAE,GAAG,IAAIZ,GAAA,CACjEH,GAAA,EACAO,YAAA;EAEF,IAAIQ,MAAA,KAAWb,UAAA,CAAWa,MAAM,EAAE;IAChC,MAAM,IAAIC,KAAA,CAAM,mDAAC,GAAmDhB,GAAA;EACtE;EACA,OAAO;IACLW,QAAA;IACAM,KAAA,EAAO,IAAAC,YAAA,CAAAC,sBAAsB,EAACP,YAAA;IAC9BC,MAAA;IACAC,IAAA;IACAJ,IAAA,EAAMA,IAAA,CAAKU,KAAK,CAAClB,UAAA,CAAWa,MAAM,CAACM,MAAM;EAC3C;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}