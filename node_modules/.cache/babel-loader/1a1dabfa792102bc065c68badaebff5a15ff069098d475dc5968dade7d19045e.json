{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"invokeRequest\", {\n  enumerable: true,\n  get: function () {\n    return invokeRequest;\n  }\n});\nconst _utils = require(\"./utils\");\nconst invokeRequest = async (targetUrl, requestInit, readableBody) => {\n  const invokeHeaders = (0, _utils.filterReqHeaders)({\n    \"cache-control\": \"\",\n    ...requestInit.headers\n  }, _utils.ipcForbiddenHeaders);\n  return await fetch(targetUrl, {\n    headers: invokeHeaders,\n    method: requestInit.method,\n    redirect: \"manual\",\n    signal: requestInit.signal,\n    ...(requestInit.method !== \"GET\" && requestInit.method !== \"HEAD\" && readableBody ? {\n      body: readableBody,\n      duplex: \"half\"\n    } : {}),\n    next: {\n      // @ts-ignore\n      internal: true\n    }\n  });\n};","map":{"version":3,"names":["invokeRequest","targetUrl","requestInit","readableBody","invokeHeaders","_utils","filterReqHeaders","headers","ipcForbiddenHeaders","fetch","method","redirect","signal","body","duplex","next","internal"],"sources":["../../../../src/server/lib/server-ipc/invoke-request.ts"],"sourcesContent":[null],"mappings":";;;;;+BAIa;;;WAAAA,aAAA;;;uBAFyC;AAE/C,MAAMA,aAAA,GAAgB,MAAAA,CAC3BC,SAAA,EACAC,WAAA,EAKAC,YAAA;EAEA,MAAMC,aAAA,GAAgB,IAAAC,MAAA,CAAAC,gBAAgB,EACpC;IACE,iBAAiB;IACjB,GAAGJ,WAAA,CAAYK;EACjB,GACAF,MAAA,CAAAG,mBAAmB;EAGrB,OAAO,MAAMC,KAAA,CAAMR,SAAA,EAAW;IAC5BM,OAAA,EAASH,aAAA;IACTM,MAAA,EAAQR,WAAA,CAAYQ,MAAM;IAC1BC,QAAA,EAAU;IACVC,MAAA,EAAQV,WAAA,CAAYU,MAAM;IAE1B,IAAIV,WAAA,CAAYQ,MAAM,KAAK,SAC3BR,WAAA,CAAYQ,MAAM,KAAK,UACvBP,YAAA,GACI;MACEU,IAAA,EAAMV,YAAA;MACNW,MAAA,EAAQ;IACV,IACA,CAAC,CAAC;IAENC,IAAA,EAAM;MACJ;MACAC,QAAA,EAAU;IACZ;EACF;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}