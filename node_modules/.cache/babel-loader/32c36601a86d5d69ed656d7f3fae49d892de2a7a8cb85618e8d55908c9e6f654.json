{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  stripInternalQueries: null,\n  stripInternalSearchParams: null,\n  stripInternalHeaders: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  stripInternalQueries: function () {\n    return stripInternalQueries;\n  },\n  stripInternalSearchParams: function () {\n    return stripInternalSearchParams;\n  },\n  stripInternalHeaders: function () {\n    return stripInternalHeaders;\n  }\n});\nconst _approuterheaders = require(\"../client/components/app-router-headers\");\nconst INTERNAL_QUERY_NAMES = [\"__nextFallback\", \"__nextLocale\", \"__nextInferredLocaleFromDefault\", \"__nextDefaultLocale\", \"__nextIsNotFound\", _approuterheaders.NEXT_RSC_UNION_QUERY];\nconst EDGE_EXTENDED_INTERNAL_QUERY_NAMES = [\"__nextDataReq\"];\nfunction stripInternalQueries(query) {\n  for (const name of INTERNAL_QUERY_NAMES) {\n    delete query[name];\n  }\n}\nfunction stripInternalSearchParams(url, isEdge) {\n  const isStringUrl = typeof url === \"string\";\n  const instance = isStringUrl ? new URL(url) : url;\n  for (const name of INTERNAL_QUERY_NAMES) {\n    instance.searchParams.delete(name);\n  }\n  if (isEdge) {\n    for (const name of EDGE_EXTENDED_INTERNAL_QUERY_NAMES) {\n      instance.searchParams.delete(name);\n    }\n  }\n  return isStringUrl ? instance.toString() : instance;\n}\n/**\n * Headers that are set by the Next.js server and should be stripped from the\n * request headers going to the user's application.\n */\nconst INTERNAL_HEADERS = [\"x-invoke-path\", \"x-invoke-status\", \"x-invoke-error\", \"x-invoke-query\", \"x-invoke-output\", \"x-middleware-invoke\"];\nfunction stripInternalHeaders(headers) {\n  for (const key of INTERNAL_HEADERS) {\n    delete headers[key];\n  }\n}","map":{"version":3,"names":["stripInternalQueries","stripInternalSearchParams","stripInternalHeaders","INTERNAL_QUERY_NAMES","_approuterheaders","NEXT_RSC_UNION_QUERY","EDGE_EXTENDED_INTERNAL_QUERY_NAMES","query","name","url","isEdge","isStringUrl","instance","URL","searchParams","delete","toString","INTERNAL_HEADERS","headers","key"],"sources":["../../src/server/internal-utils.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;EAgBgBA,oBAAoB,WAAAA,CAAA;WAApBA,oBAAA;;EAMAC,yBAAyB,WAAAA,CAAA;WAAzBA,yBAAA;;EAqCAC,oBAAoB,WAAAA,CAAA;WAApBA,oBAAA;;;kCAxDqB;AAErC,MAAMC,oBAAA,GAAuB,CAC3B,kBACA,gBACA,mCACA,uBACA,oBACAC,iBAAA,CAAAC,oBAAoB,CACrB;AAED,MAAMC,kCAAA,GAAqC,CAAC,gBAAgB;AAErD,SAASN,qBAAqBO,KAAyB;EAC5D,KAAK,MAAMC,IAAA,IAAQL,oBAAA,EAAsB;IACvC,OAAOI,KAAK,CAACC,IAAA,CAAK;EACpB;AACF;AAEO,SAASP,0BACdQ,GAAM,EACNC,MAAe;EAEf,MAAMC,WAAA,GAAc,OAAOF,GAAA,KAAQ;EACnC,MAAMG,QAAA,GAAWD,WAAA,GAAc,IAAIE,GAAA,CAAIJ,GAAA,IAAQA,GAAA;EAC/C,KAAK,MAAMD,IAAA,IAAQL,oBAAA,EAAsB;IACvCS,QAAA,CAASE,YAAY,CAACC,MAAM,CAACP,IAAA;EAC/B;EAEA,IAAIE,MAAA,EAAQ;IACV,KAAK,MAAMF,IAAA,IAAQF,kCAAA,EAAoC;MACrDM,QAAA,CAASE,YAAY,CAACC,MAAM,CAACP,IAAA;IAC/B;EACF;EAEA,OAAQG,WAAA,GAAcC,QAAA,CAASI,QAAQ,KAAKJ,QAAA;AAC9C;AAEA;;;;AAIA,MAAMK,gBAAA,GAAmB,CACvB,iBACA,mBACA,kBACA,kBACA,mBACA,sBACD;AAOM,SAASf,qBAAqBgB,OAA4B;EAC/D,KAAK,MAAMC,GAAA,IAAOF,gBAAA,EAAkB;IAClC,OAAOC,OAAO,CAACC,GAAA,CAAI;EACrB;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}