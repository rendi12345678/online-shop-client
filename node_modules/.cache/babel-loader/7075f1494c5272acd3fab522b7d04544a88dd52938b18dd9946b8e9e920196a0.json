{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport React, { useEffect, useState, createContext, useReducer } from 'react';\nimport axios from 'axios';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nconst serverUrl = 'http://localhost:5000';\nexport const addProductsToState = async (endpoint, type, dispatch) => {\n  const response = await getProducts(endpoint);\n  if (response === 'FETCH_ERROR') {\n    dispatch({\n      type: 'FETCH_ERROR'\n    });\n  }\n  if (response.length !== 0) {\n    dispatch({\n      type: type,\n      payloads: response\n    });\n  }\n  console.log(response);\n};\nexport const getProducts = async endpoint => {\n  try {\n    const response = await axios.get(`${serverUrl}${endpoint}`);\n    return response.data.productData;\n  } catch (err) {\n    return 'FETCH_ERROR';\n  }\n};\nexport const sendDataToServerAndMovePage = (url, {\n  id,\n  title,\n  image,\n  description,\n  price\n}) => {\n  var _s = $RefreshSig$();\n  console.log('send data to server');\n  const productInfoUrl = `${serverUrl}/api/product-info`;\n  _s(axios.post(productInfoUrl, {\n    title,\n    id,\n    image,\n    description,\n    price\n  }).then(_s(res => {\n    _s();\n    console.log(res.data.msg);\n    if (url === '') return window.location.reload();\n    return useMovePage(url);\n  }, \"PzKVHCD7JfRqFVHggPOUuU9TU1M=\", false, function () {\n    return [useMovePage];\n  })), \"PzKVHCD7JfRqFVHggPOUuU9TU1M=\", false, function () {\n    return [useMovePage];\n  }).then(err => {\n    console.log('Failed send data to server!');\n  });\n  console.log(title);\n};\nconst useMovePage = url => {\n  _s2();\n  const navigate = useNavigate();\n  navigate(url);\n};\n_s2(useMovePage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\nexport const getImage = image => `/img/${image}`;","map":{"version":3,"names":["React","useEffect","useState","createContext","useReducer","axios","Route","Routes","useNavigate","serverUrl","addProductsToState","endpoint","type","dispatch","response","getProducts","length","payloads","console","log","get","data","productData","err","sendDataToServerAndMovePage","url","id","title","image","description","price","_s","$RefreshSig$","productInfoUrl","post","then","res","msg","window","location","reload","useMovePage","_s2","navigate","getImage"],"sources":["/data/data/com.termux/files/home/belajar_programming/react-express/client/src/utils/utils.js"],"sourcesContent":["import React, { useEffect, useState, createContext, useReducer } from 'react';\nimport axios from 'axios';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\n\n  const serverUrl = 'http://localhost:5000';\n  \n  export const addProductsToState = async (endpoint, type, dispatch) => {\n    const response = await getProducts(endpoint);\n    \n    if(response === 'FETCH_ERROR') {\n      dispatch({type: 'FETCH_ERROR'});\n    } \n      \n    if(response.length !== 0) {\n      dispatch({type: type, payloads: response})\n    }\n      \n    console.log(response)\n  }\n  \n  export const getProducts = async endpoint => {\n    try {\n      const response = await axios.get(`${serverUrl}${endpoint}`);\n      \n      return response.data.productData;\n    } catch(err) {\n      return 'FETCH_ERROR';\n    }\n  }\n  \n  export const sendDataToServerAndMovePage = (url, {id, title, image, description, price}) => {\n    console.log('send data to server')\n    const productInfoUrl = `${serverUrl}/api/product-info`;\n    \n    axios.post(productInfoUrl, {\n      title,\n      id,\n      image,\n      description,\n      price\n    })\n    .then(res => {\n      console.log(res.data.msg);\n      \n      if(url === '') return window.location.reload();\n      return useMovePage(url);\n    })\n    .then(err => {\n      console.log('Failed send data to server!');\n    });\n    \n    console.log(title)\n  }\n  \n  const useMovePage = url => {\n    const navigate = useNavigate();\n    \n    navigate(url);\n  }\n  \n  export const getImage = image => `/img/${image}`;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAC7E,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,EAAEC,MAAM,EAAEC,WAAW,QAAQ,kBAAkB;AAE3D,MAAMC,SAAS,GAAG,uBAAuB;AAEzC,OAAO,MAAMC,kBAAkB,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,IAAI,EAAEC,QAAQ,KAAK;EACpE,MAAMC,QAAQ,GAAG,MAAMC,WAAW,CAACJ,QAAQ,CAAC;EAE5C,IAAGG,QAAQ,KAAK,aAAa,EAAE;IAC7BD,QAAQ,CAAC;MAACD,IAAI,EAAE;IAAa,CAAC,CAAC;EACjC;EAEA,IAAGE,QAAQ,CAACE,MAAM,KAAK,CAAC,EAAE;IACxBH,QAAQ,CAAC;MAACD,IAAI,EAAEA,IAAI;MAAEK,QAAQ,EAAEH;IAAQ,CAAC,CAAC;EAC5C;EAEAI,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;AACvB,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAMJ,QAAQ,IAAI;EAC3C,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMT,KAAK,CAACe,GAAG,CAAE,GAAEX,SAAU,GAAEE,QAAS,EAAC,CAAC;IAE3D,OAAOG,QAAQ,CAACO,IAAI,CAACC,WAAW;EAClC,CAAC,CAAC,OAAMC,GAAG,EAAE;IACX,OAAO,aAAa;EACtB;AACF,CAAC;AAED,OAAO,MAAMC,2BAA2B,GAAGA,CAACC,GAAG,EAAE;EAACC,EAAE;EAAEC,KAAK;EAAEC,KAAK;EAAEC,WAAW;EAAEC;AAAK,CAAC,KAAK;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAC1Fd,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EAClC,MAAMc,cAAc,GAAI,GAAExB,SAAU,mBAAkB;EAEtDsB,EAAA,CAAA1B,KAAK,CAAC6B,IAAI,CAACD,cAAc,EAAE;IACzBN,KAAK;IACLD,EAAE;IACFE,KAAK;IACLC,WAAW;IACXC;EACF,CAAC,CAAC,CACDK,IAAI,CAAAJ,EAAA,CAACK,GAAG,IAAI;IAAAL,EAAA;IACXb,OAAO,CAACC,GAAG,CAACiB,GAAG,CAACf,IAAI,CAACgB,GAAG,CAAC;IAEzB,IAAGZ,GAAG,KAAK,EAAE,EAAE,OAAOa,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC9C,OAAOC,WAAW,CAAChB,GAAG,CAAC;EACzB,CAAC;IAAA,QADQgB,WAAW;EAAA,EACnB,CAAC;IAAA,QADOA,WAAW;EAAA,GAEnBN,IAAI,CAACZ,GAAG,IAAI;IACXL,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC5C,CAAC,CAAC;EAEFD,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;AACpB,CAAC;AAED,MAAMc,WAAW,GAAGhB,GAAG,IAAI;EAAAiB,GAAA;EACzB,MAAMC,QAAQ,GAAGnC,WAAW,CAAC,CAAC;EAE9BmC,QAAQ,CAAClB,GAAG,CAAC;AACf,CAAC;AAAAiB,GAAA,CAJKD,WAAW;EAAA,QACEjC,WAAW;AAAA;AAK9B,OAAO,MAAMoC,QAAQ,GAAGhB,KAAK,IAAK,QAAOA,KAAM,EAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}