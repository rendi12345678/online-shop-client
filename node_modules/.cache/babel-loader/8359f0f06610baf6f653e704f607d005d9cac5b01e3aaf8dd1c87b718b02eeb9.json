{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"getPkgManager\", {\n  enumerable: true,\n  get: function () {\n    return getPkgManager;\n  }\n});\nconst _fs = /*#__PURE__*/_interop_require_default(require(\"fs\"));\nconst _path = /*#__PURE__*/_interop_require_default(require(\"path\"));\nconst _child_process = require(\"child_process\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction getPkgManager(baseDir) {\n  try {\n    for (const {\n      lockFile,\n      packageManager\n    } of [{\n      lockFile: \"yarn.lock\",\n      packageManager: \"yarn\"\n    }, {\n      lockFile: \"pnpm-lock.yaml\",\n      packageManager: \"pnpm\"\n    }, {\n      lockFile: \"package-lock.json\",\n      packageManager: \"npm\"\n    }]) {\n      if (_fs.default.existsSync(_path.default.join(baseDir, lockFile))) {\n        return packageManager;\n      }\n    }\n    const userAgent = process.env.npm_config_user_agent;\n    if (userAgent) {\n      if (userAgent.startsWith(\"yarn\")) {\n        return \"yarn\";\n      } else if (userAgent.startsWith(\"pnpm\")) {\n        return \"pnpm\";\n      }\n    }\n    try {\n      (0, _child_process.execSync)(\"yarn --version\", {\n        stdio: \"ignore\"\n      });\n      return \"yarn\";\n    } catch {\n      (0, _child_process.execSync)(\"pnpm --version\", {\n        stdio: \"ignore\"\n      });\n      return \"pnpm\";\n    }\n  } catch {\n    return \"npm\";\n  }\n}","map":{"version":3,"names":["getPkgManager","baseDir","lockFile","packageManager","_fs","default","existsSync","_path","join","userAgent","process","env","npm_config_user_agent","startsWith","_child_process","execSync","stdio"],"sources":["../../../src/lib/helpers/get-pkg-manager.ts"],"sourcesContent":[null],"mappings":";;;;;+BAMgB;;;WAAAA,aAAA;;;0DAND;4DACE;+BACQ;;;;;;AAIlB,SAASA,cAAcC,OAAe;EAC3C,IAAI;IACF,KAAK,MAAM;MAAEC,QAAQ;MAAEC;IAAc,CAAE,IAAI,CACzC;MAAED,QAAA,EAAU;MAAaC,cAAA,EAAgB;IAAO,GAChD;MAAED,QAAA,EAAU;MAAkBC,cAAA,EAAgB;IAAO,GACrD;MAAED,QAAA,EAAU;MAAqBC,cAAA,EAAgB;IAAM,EACxD,EAAE;MACD,IAAIC,GAAA,CAAAC,OAAE,CAACC,UAAU,CAACC,KAAA,CAAAF,OAAI,CAACG,IAAI,CAACP,OAAA,EAASC,QAAA,IAAY;QAC/C,OAAOC,cAAA;MACT;IACF;IACA,MAAMM,SAAA,GAAYC,OAAA,CAAQC,GAAG,CAACC,qBAAqB;IACnD,IAAIH,SAAA,EAAW;MACb,IAAIA,SAAA,CAAUI,UAAU,CAAC,SAAS;QAChC,OAAO;MACT,OAAO,IAAIJ,SAAA,CAAUI,UAAU,CAAC,SAAS;QACvC,OAAO;MACT;IACF;IACA,IAAI;MACF,IAAAC,cAAA,CAAAC,QAAQ,EAAC,kBAAkB;QAAEC,KAAA,EAAO;MAAS;MAC7C,OAAO;IACT,EAAE,MAAM;MACN,IAAAF,cAAA,CAAAC,QAAQ,EAAC,kBAAkB;QAAEC,KAAA,EAAO;MAAS;MAC7C,OAAO;IACT;EACF,EAAE,MAAM;IACN,OAAO;EACT;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}