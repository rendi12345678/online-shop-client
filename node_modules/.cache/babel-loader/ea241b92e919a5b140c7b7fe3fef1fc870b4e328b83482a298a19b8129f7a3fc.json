{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  normalizeConfig: null,\n  warnOptionHasBeenDeprecated: null,\n  warnOptionHasBeenMovedOutOfExperimental: null,\n  default: null,\n  getEnabledExperimentalFeatures: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  normalizeConfig: function () {\n    return _configshared.normalizeConfig;\n  },\n  warnOptionHasBeenDeprecated: function () {\n    return warnOptionHasBeenDeprecated;\n  },\n  warnOptionHasBeenMovedOutOfExperimental: function () {\n    return warnOptionHasBeenMovedOutOfExperimental;\n  },\n  default: function () {\n    return loadConfig;\n  },\n  getEnabledExperimentalFeatures: function () {\n    return getEnabledExperimentalFeatures;\n  }\n});\nconst _fs = require(\"fs\");\nconst _path = require(\"path\");\nconst _url = require(\"url\");\nconst _findup = /*#__PURE__*/_interop_require_default(require(\"next/dist/compiled/find-up\"));\nconst _log = /*#__PURE__*/_interop_require_wildcard(require(\"../build/output/log\"));\nconst _constants = require(\"../shared/lib/constants\");\nconst _configshared = require(\"./config-shared\");\nconst _configutils = require(\"./config-utils\");\nconst _imageconfig = require(\"../shared/lib/image-config\");\nconst _env = require(\"@next/env\");\nconst _flushandexit = require(\"../telemetry/flush-and-exit\");\nconst _findroot = require(\"../lib/find-root\");\nconst _setuphttpagentenv = require(\"./setup-http-agent-env\");\nconst _pathhasprefix = require(\"../shared/lib/router/utils/path-has-prefix\");\nconst _zod = require(\"next/dist/compiled/zod\");\nconst _ciinfo = require(\"../telemetry/ci-info\");\nconst _packagejson = require(\"next/package.json\");\nfunction _interop_require_default(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction processZodErrorMessage(issue) {\n  let message = issue.message;\n  let path = \"\";\n  if (issue.path.length > 0) {\n    if (issue.path.length === 1) {\n      const identifier = issue.path[0];\n      if (typeof identifier === \"number\") {\n        // The first identifier inside path is a number\n        path = `index ${identifier}`;\n      } else {\n        path = `\"${identifier}\"`;\n      }\n    } else {\n      // joined path to be shown in the error message\n      path = `\"${issue.path.reduce((acc, cur) => {\n        if (typeof cur === \"number\") {\n          // array index\n          return `${acc}[${cur}]`;\n        }\n        if (cur.includes('\"')) {\n          // escape quotes\n          return `${acc}[\"${cur.replaceAll('\"', '\\\\\"')}\"]`;\n        }\n        // dot notation\n        const separator = acc.length === 0 ? \"\" : \".\";\n        return acc + separator + cur;\n      }, \"\")}\"`;\n    }\n  }\n  if (issue.code === \"invalid_type\" && issue.received === _zod.ZodParsedType.undefined) {\n    // missing key in object\n    return `${path} is missing, expected ${issue.expected}`;\n  }\n  if (issue.code === \"invalid_enum_value\") {\n    // Remove \"Invalid enum value\" prefix from zod default error message\n    return `Expected ${_zod.util.joinValues(issue.options)}, received '${issue.received}' at ${path}`;\n  }\n  return message + (path ? ` at ${path}` : \"\");\n}\nfunction normalizeZodErrors(error) {\n  let shouldExit = false;\n  return [error.issues.flatMap(issue => {\n    const messages = [processZodErrorMessage(issue)];\n    if (issue.path[0] === \"images\") {\n      // We exit the build when encountering an error in the images config\n      shouldExit = true;\n    }\n    if (\"unionErrors\" in issue) {\n      issue.unionErrors.map(normalizeZodErrors).forEach(([unionMessages, unionShouldExit]) => {\n        messages.push(...unionMessages);\n        // If any of the union results shows exit the build, we exit the build\n        shouldExit = shouldExit || unionShouldExit;\n      });\n    }\n    return messages;\n  }), shouldExit];\n}\nfunction warnOptionHasBeenDeprecated(config, nestedPropertyKey, reason, silent) {\n  if (!silent) {\n    let current = config;\n    let found = true;\n    const nestedPropertyKeys = nestedPropertyKey.split(\".\");\n    for (const key of nestedPropertyKeys) {\n      if (current[key] !== undefined) {\n        current = current[key];\n      } else {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      _log.warn(reason);\n    }\n  }\n}\nfunction warnOptionHasBeenMovedOutOfExperimental(config, oldKey, newKey, configFileName, silent) {\n  if (config.experimental && oldKey in config.experimental) {\n    if (!silent) {\n      _log.warn(`\\`${oldKey}\\` has been moved out of \\`experimental\\`` + (newKey.includes(\".\") ? ` and into \\`${newKey}\\`` : \"\") + `. Please update your ${configFileName} file accordingly.`);\n    }\n    let current = config;\n    const newKeys = newKey.split(\".\");\n    while (newKeys.length > 1) {\n      const key = newKeys.shift();\n      current[key] = current[key] || {};\n      current = current[key];\n    }\n    current[newKeys.shift()] = config.experimental[oldKey];\n  }\n  return config;\n}\nfunction assignDefaults(dir, userConfig, silent) {\n  var _result_experimental, _result_experimental1, _result_experimental_serverActions, _result_experimental2, _result_experimental3, _result_experimental4, _result_experimental5, _result_experimental6, _result_devIndicators, _result_experimental7;\n  const configFileName = userConfig.configFileName;\n  if (typeof userConfig.exportTrailingSlash !== \"undefined\") {\n    if (!silent) {\n      _log.warn(`The \"exportTrailingSlash\" option has been renamed to \"trailingSlash\". Please update your ${configFileName}.`);\n    }\n    if (typeof userConfig.trailingSlash === \"undefined\") {\n      userConfig.trailingSlash = userConfig.exportTrailingSlash;\n    }\n    delete userConfig.exportTrailingSlash;\n  }\n  const config = Object.keys(userConfig).reduce((currentConfig, key) => {\n    const value = userConfig[key];\n    if (value === undefined || value === null) {\n      return currentConfig;\n    }\n    if (key === \"distDir\") {\n      if (typeof value !== \"string\") {\n        throw new Error(`Specified distDir is not a string, found type \"${typeof value}\"`);\n      }\n      const userDistDir = value.trim();\n      // don't allow public as the distDir as this is a reserved folder for\n      // public files\n      if (userDistDir === \"public\") {\n        throw new Error(`The 'public' directory is reserved in Next.js and can not be set as the 'distDir'. https://nextjs.org/docs/messages/can-not-output-to-public`);\n      }\n      // make sure distDir isn't an empty string as it can result in the provided\n      // directory being deleted in development mode\n      if (userDistDir.length === 0) {\n        throw new Error(`Invalid distDir provided, distDir can not be an empty string. Please remove this config or set it to undefined`);\n      }\n    }\n    if (key === \"pageExtensions\") {\n      if (!Array.isArray(value)) {\n        throw new Error(`Specified pageExtensions is not an array of strings, found \"${value}\". Please update this config or remove it.`);\n      }\n      if (!value.length) {\n        throw new Error(`Specified pageExtensions is an empty array. Please update it with the relevant extensions or remove it.`);\n      }\n      value.forEach(ext => {\n        if (typeof ext !== \"string\") {\n          throw new Error(`Specified pageExtensions is not an array of strings, found \"${ext}\" of type \"${typeof ext}\". Please update this config or remove it.`);\n        }\n      });\n    }\n    if (!!value && value.constructor === Object) {\n      currentConfig[key] = {\n        ..._configshared.defaultConfig[key],\n        ...Object.keys(value).reduce((c, k) => {\n          const v = value[k];\n          if (v !== undefined && v !== null) {\n            c[k] = v;\n          }\n          return c;\n        }, {})\n      };\n    } else {\n      currentConfig[key] = value;\n    }\n    return currentConfig;\n  }, {});\n  const result = {\n    ..._configshared.defaultConfig,\n    ...config\n  };\n  if (((_result_experimental = result.experimental) == null ? void 0 : _result_experimental.ppr) && !_packagejson.version.includes(\"canary\")) {\n    _log.warn(`The experimental.ppr feature is present in your current version but we recommend using the latest canary version for the best experience.`);\n  }\n  if (result.output === \"export\") {\n    if (result.i18n) {\n      throw new Error('Specified \"i18n\" cannot be used with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-i18n');\n    }\n    if (!_ciinfo.hasNextSupport) {\n      if (result.rewrites) {\n        _log.warn('Specified \"rewrites\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes');\n      }\n      if (result.redirects) {\n        _log.warn('Specified \"redirects\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes');\n      }\n      if (result.headers) {\n        _log.warn('Specified \"headers\" will not automatically work with \"output: export\". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes');\n      }\n    }\n  }\n  if (typeof result.assetPrefix !== \"string\") {\n    throw new Error(`Specified assetPrefix is not a string, found type \"${typeof result.assetPrefix}\" https://nextjs.org/docs/messages/invalid-assetprefix`);\n  }\n  if (typeof result.basePath !== \"string\") {\n    throw new Error(`Specified basePath is not a string, found type \"${typeof result.basePath}\"`);\n  }\n  // TODO: remove after next minor (current v13.1.1)\n  if (Array.isArray((_result_experimental1 = result.experimental) == null ? void 0 : _result_experimental1.outputFileTracingIgnores)) {\n    if (!result.experimental) {\n      result.experimental = {};\n    }\n    if (!result.experimental.outputFileTracingExcludes) {\n      result.experimental.outputFileTracingExcludes = {};\n    }\n    if (!result.experimental.outputFileTracingExcludes[\"**/*\"]) {\n      result.experimental.outputFileTracingExcludes[\"**/*\"] = [];\n    }\n    result.experimental.outputFileTracingExcludes[\"**/*\"].push(...(result.experimental.outputFileTracingIgnores || []));\n    _log.warn(`\\`outputFileTracingIgnores\\` has been moved to \\`experimental.outputFileTracingExcludes\\`. Please update your ${configFileName} file accordingly.`);\n  }\n  if (result.basePath !== \"\") {\n    if (result.basePath === \"/\") {\n      throw new Error(`Specified basePath /. basePath has to be either an empty string or a path prefix\"`);\n    }\n    if (!result.basePath.startsWith(\"/\")) {\n      throw new Error(`Specified basePath has to start with a /, found \"${result.basePath}\"`);\n    }\n    if (result.basePath !== \"/\") {\n      var _result_amp;\n      if (result.basePath.endsWith(\"/\")) {\n        throw new Error(`Specified basePath should not end with /, found \"${result.basePath}\"`);\n      }\n      if (result.assetPrefix === \"\") {\n        result.assetPrefix = result.basePath;\n      }\n      if (((_result_amp = result.amp) == null ? void 0 : _result_amp.canonicalBase) === \"\") {\n        result.amp.canonicalBase = result.basePath;\n      }\n    }\n  }\n  if (result == null ? void 0 : result.images) {\n    const images = result.images;\n    if (typeof images !== \"object\") {\n      throw new Error(`Specified images should be an object received ${typeof images}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`);\n    }\n    if (images.domains) {\n      var _config_assetPrefix;\n      if (!Array.isArray(images.domains)) {\n        throw new Error(`Specified images.domains should be an Array received ${typeof images.domains}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-images-config`);\n      }\n      // static images are automatically prefixed with assetPrefix\n      // so we need to ensure _next/image allows downloading from\n      // this resource\n      if ((_config_assetPrefix = config.assetPrefix) == null ? void 0 : _config_assetPrefix.startsWith(\"http\")) {\n        images.domains.push(new URL(config.assetPrefix).hostname);\n      }\n    }\n    if (!images.loader) {\n      images.loader = \"default\";\n    }\n    if (images.loader !== \"default\" && images.loader !== \"custom\" && images.path === _imageconfig.imageConfigDefault.path) {\n      throw new Error(`Specified images.loader property (${images.loader}) also requires images.path property to be assigned to a URL prefix.\\nSee more info here: https://nextjs.org/docs/api-reference/next/legacy/image#loader-configuration`);\n    }\n    if (images.path === _imageconfig.imageConfigDefault.path && result.basePath && !(0, _pathhasprefix.pathHasPrefix)(images.path, result.basePath)) {\n      images.path = `${result.basePath}${images.path}`;\n    }\n    // Append trailing slash for non-default loaders and when trailingSlash is set\n    if (images.path && !images.path.endsWith(\"/\") && (images.loader !== \"default\" || result.trailingSlash)) {\n      images.path += \"/\";\n    }\n    if (images.loaderFile) {\n      if (images.loader !== \"default\" && images.loader !== \"custom\") {\n        throw new Error(`Specified images.loader property (${images.loader}) cannot be used with images.loaderFile property. Please set images.loader to \"custom\".`);\n      }\n      const absolutePath = (0, _path.join)(dir, images.loaderFile);\n      if (!(0, _fs.existsSync)(absolutePath)) {\n        throw new Error(`Specified images.loaderFile does not exist at \"${absolutePath}\".`);\n      }\n      images.loaderFile = absolutePath;\n    }\n  }\n  // TODO: Remove this warning in Next.js 15\n  warnOptionHasBeenDeprecated(result, \"experimental.serverActions\", \"Server Actions are available by default now, `experimental.serverActions` option can be safely removed.\", silent);\n  if (result.swcMinify === false) {\n    // TODO: Remove this warning in Next.js 15\n    warnOptionHasBeenDeprecated(result, \"swcMinify\", \"Disabling SWC Minifer will not be an option in the next major version. Please report any issues you may be experiencing to https://github.com/vercel/next.js/issues\", silent);\n  }\n  if (result.outputFileTracing === false) {\n    // TODO: Remove this warning in Next.js 15\n    warnOptionHasBeenDeprecated(result, \"outputFileTracing\", \"Disabling outputFileTracing will not be an option in the next major version. Please report any issues you may be experiencing to https://github.com/vercel/next.js/issues\", silent);\n  }\n  warnOptionHasBeenMovedOutOfExperimental(result, \"relay\", \"compiler.relay\", configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, \"styledComponents\", \"compiler.styledComponents\", configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, \"emotion\", \"compiler.emotion\", configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, \"reactRemoveProperties\", \"compiler.reactRemoveProperties\", configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, \"removeConsole\", \"compiler.removeConsole\", configFileName, silent);\n  if (result.experimental.outputStandalone) {\n    if (!silent) {\n      _log.warn(`experimental.outputStandalone has been renamed to \"output: 'standalone'\", please move the config.`);\n    }\n    result.output = \"standalone\";\n  }\n  if (typeof ((_result_experimental2 = result.experimental) == null ? void 0 : (_result_experimental_serverActions = _result_experimental2.serverActions) == null ? void 0 : _result_experimental_serverActions.bodySizeLimit) !== \"undefined\") {\n    var _result_experimental_serverActions1;\n    const value = parseInt((_result_experimental_serverActions1 = result.experimental.serverActions) == null ? void 0 : _result_experimental_serverActions1.bodySizeLimit.toString());\n    if (isNaN(value) || value < 1) {\n      throw new Error(\"Server Actions Size Limit must be a valid number or filesize format lager than 1MB: https://nextjs.org/docs/app/api-reference/server-actions#size-limitation\");\n    }\n  }\n  warnOptionHasBeenMovedOutOfExperimental(result, \"transpilePackages\", \"transpilePackages\", configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, \"skipMiddlewareUrlNormalize\", \"skipMiddlewareUrlNormalize\", configFileName, silent);\n  warnOptionHasBeenMovedOutOfExperimental(result, \"skipTrailingSlashRedirect\", \"skipTrailingSlashRedirect\", configFileName, silent);\n  if (((_result_experimental3 = result.experimental) == null ? void 0 : _result_experimental3.outputFileTracingRoot) && !(0, _path.isAbsolute)(result.experimental.outputFileTracingRoot)) {\n    result.experimental.outputFileTracingRoot = (0, _path.resolve)(result.experimental.outputFileTracingRoot);\n    if (!silent) {\n      _log.warn(`experimental.outputFileTracingRoot should be absolute, using: ${result.experimental.outputFileTracingRoot}`);\n    }\n  }\n  // only leverage deploymentId\n  if (((_result_experimental4 = result.experimental) == null ? void 0 : _result_experimental4.useDeploymentId) && process.env.NEXT_DEPLOYMENT_ID) {\n    if (!result.experimental) {\n      result.experimental = {};\n    }\n    result.experimental.deploymentId = process.env.NEXT_DEPLOYMENT_ID;\n  }\n  // can't use this one without the other\n  if ((_result_experimental5 = result.experimental) == null ? void 0 : _result_experimental5.useDeploymentIdServerActions) {\n    result.experimental.useDeploymentId = true;\n  }\n  // use the closest lockfile as tracing root\n  if (!((_result_experimental6 = result.experimental) == null ? void 0 : _result_experimental6.outputFileTracingRoot)) {\n    let rootDir = (0, _findroot.findRootDir)(dir);\n    if (rootDir) {\n      if (!result.experimental) {\n        result.experimental = {};\n      }\n      if (!_configshared.defaultConfig.experimental) {\n        _configshared.defaultConfig.experimental = {};\n      }\n      result.experimental.outputFileTracingRoot = rootDir;\n      _configshared.defaultConfig.experimental.outputFileTracingRoot = result.experimental.outputFileTracingRoot;\n    }\n  }\n  if (result.output === \"standalone\" && !result.outputFileTracing) {\n    if (!silent) {\n      _log.warn(`\"output: 'standalone'\" requires outputFileTracing not be disabled please enable it to leverage the standalone build`);\n    }\n    result.output = undefined;\n  }\n  (0, _setuphttpagentenv.setHttpClientAndAgentOptions)(result || _configshared.defaultConfig);\n  if (result.i18n) {\n    const {\n      i18n\n    } = result;\n    const i18nType = typeof i18n;\n    if (i18nType !== \"object\") {\n      throw new Error(`Specified i18n should be an object received ${i18nType}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n    }\n    if (!Array.isArray(i18n.locales)) {\n      throw new Error(`Specified i18n.locales should be an Array received ${typeof i18n.locales}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n    }\n    if (i18n.locales.length > 100 && !silent) {\n      _log.warn(`Received ${i18n.locales.length} i18n.locales items which exceeds the recommended max of 100.\\nSee more info here: https://nextjs.org/docs/advanced-features/i18n-routing#how-does-this-work-with-static-generation`);\n    }\n    const defaultLocaleType = typeof i18n.defaultLocale;\n    if (!i18n.defaultLocale || defaultLocaleType !== \"string\") {\n      throw new Error(`Specified i18n.defaultLocale should be a string.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n    }\n    if (typeof i18n.domains !== \"undefined\" && !Array.isArray(i18n.domains)) {\n      throw new Error(`Specified i18n.domains must be an array of domain objects e.g. [ { domain: 'example.fr', defaultLocale: 'fr', locales: ['fr'] } ] received ${typeof i18n.domains}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n    }\n    if (i18n.domains) {\n      const invalidDomainItems = i18n.domains.filter(item => {\n        var _i18n_domains;\n        if (!item || typeof item !== \"object\") return true;\n        if (!item.defaultLocale) return true;\n        if (!item.domain || typeof item.domain !== \"string\") return true;\n        if (item.domain.includes(\":\")) {\n          console.warn(`i18n domain: \"${item.domain}\" is invalid it should be a valid domain without protocol (https://) or port (:3000) e.g. example.vercel.sh`);\n          return true;\n        }\n        const defaultLocaleDuplicate = (_i18n_domains = i18n.domains) == null ? void 0 : _i18n_domains.find(altItem => altItem.defaultLocale === item.defaultLocale && altItem.domain !== item.domain);\n        if (!silent && defaultLocaleDuplicate) {\n          console.warn(`Both ${item.domain} and ${defaultLocaleDuplicate.domain} configured the defaultLocale ${item.defaultLocale} but only one can. Change one item's default locale to continue`);\n          return true;\n        }\n        let hasInvalidLocale = false;\n        if (Array.isArray(item.locales)) {\n          for (const locale of item.locales) {\n            if (typeof locale !== \"string\") hasInvalidLocale = true;\n            for (const domainItem of i18n.domains || []) {\n              if (domainItem === item) continue;\n              if (domainItem.locales && domainItem.locales.includes(locale)) {\n                console.warn(`Both ${item.domain} and ${domainItem.domain} configured the locale (${locale}) but only one can. Remove it from one i18n.domains config to continue`);\n                hasInvalidLocale = true;\n                break;\n              }\n            }\n          }\n        }\n        return hasInvalidLocale;\n      });\n      if (invalidDomainItems.length > 0) {\n        throw new Error(`Invalid i18n.domains values:\\n${invalidDomainItems.map(item => JSON.stringify(item)).join(\"\\n\")}\\n\\ndomains value must follow format { domain: 'example.fr', defaultLocale: 'fr', locales: ['fr'] }.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n      }\n    }\n    if (!Array.isArray(i18n.locales)) {\n      throw new Error(`Specified i18n.locales must be an array of locale strings e.g. [\"en-US\", \"nl-NL\"] received ${typeof i18n.locales}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n    }\n    const invalidLocales = i18n.locales.filter(locale => typeof locale !== \"string\");\n    if (invalidLocales.length > 0) {\n      throw new Error(`Specified i18n.locales contains invalid values (${invalidLocales.map(String).join(\", \")}), locales must be valid locale tags provided as strings e.g. \"en-US\".\\n` + `See here for list of valid language sub-tags: http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry`);\n    }\n    if (!i18n.locales.includes(i18n.defaultLocale)) {\n      throw new Error(`Specified i18n.defaultLocale should be included in i18n.locales.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n    }\n    const normalizedLocales = new Set();\n    const duplicateLocales = new Set();\n    i18n.locales.forEach(locale => {\n      const localeLower = locale.toLowerCase();\n      if (normalizedLocales.has(localeLower)) {\n        duplicateLocales.add(locale);\n      }\n      normalizedLocales.add(localeLower);\n    });\n    if (duplicateLocales.size > 0) {\n      throw new Error(`Specified i18n.locales contains the following duplicate locales:\\n` + `${[...duplicateLocales].join(\", \")}\\n` + `Each locale should be listed only once.\\n` + `See more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n    }\n    // make sure default Locale is at the front\n    i18n.locales = [i18n.defaultLocale, ...i18n.locales.filter(locale => locale !== i18n.defaultLocale)];\n    const localeDetectionType = typeof i18n.localeDetection;\n    if (localeDetectionType !== \"boolean\" && localeDetectionType !== \"undefined\") {\n      throw new Error(`Specified i18n.localeDetection should be undefined or a boolean received ${localeDetectionType}.\\nSee more info here: https://nextjs.org/docs/messages/invalid-i18n-config`);\n    }\n  }\n  if ((_result_devIndicators = result.devIndicators) == null ? void 0 : _result_devIndicators.buildActivityPosition) {\n    const {\n      buildActivityPosition\n    } = result.devIndicators;\n    const allowedValues = [\"top-left\", \"top-right\", \"bottom-left\", \"bottom-right\"];\n    if (!allowedValues.includes(buildActivityPosition)) {\n      throw new Error(`Invalid \"devIndicator.buildActivityPosition\" provided, expected one of ${allowedValues.join(\", \")}, received ${buildActivityPosition}`);\n    }\n  }\n  const userProvidedModularizeImports = result.modularizeImports;\n  // Unfortunately these packages end up re-exporting 10600 modules, for example: https://unpkg.com/browse/@mui/icons-material@5.11.16/esm/index.js.\n  // Leveraging modularizeImports tremendously reduces compile times for these.\n  result.modularizeImports = {\n    ...(userProvidedModularizeImports || {}),\n    // This is intentionally added after the user-provided modularizeImports config.\n    \"@mui/icons-material\": {\n      transform: \"@mui/icons-material/{{member}}\"\n    },\n    \"date-fns\": {\n      transform: \"date-fns/{{member}}\"\n    },\n    lodash: {\n      transform: \"lodash/{{member}}\"\n    },\n    \"lodash-es\": {\n      transform: \"lodash-es/{{member}}\"\n    },\n    ramda: {\n      transform: \"ramda/es/{{member}}\"\n    },\n    \"react-bootstrap\": {\n      transform: {\n        useAccordionButton: \"modularize-import-loader?name=useAccordionButton&from=named&as=default!react-bootstrap/AccordionButton\",\n        \"*\": \"react-bootstrap/{{member}}\"\n      }\n    },\n    antd: {\n      transform: \"antd/lib/{{kebabCase member}}\"\n    },\n    ahooks: {\n      transform: {\n        createUpdateEffect: \"modularize-import-loader?name=createUpdateEffect&from=named&as=default!ahooks/es/createUpdateEffect\",\n        \"*\": \"ahooks/es/{{member}}\"\n      }\n    },\n    \"@ant-design/icons\": {\n      transform: {\n        IconProvider: \"modularize-import-loader?name=IconProvider&from=named&as=default!@ant-design/icons\",\n        createFromIconfontCN: \"@ant-design/icons/es/components/IconFont\",\n        getTwoToneColor: \"modularize-import-loader?name=getTwoToneColor&from=named&as=default!@ant-design/icons/es/components/twoTonePrimaryColor\",\n        setTwoToneColor: \"modularize-import-loader?name=setTwoToneColor&from=named&as=default!@ant-design/icons/es/components/twoTonePrimaryColor\",\n        \"*\": \"@ant-design/icons/lib/icons/{{member}}\"\n      }\n    },\n    \"next/server\": {\n      transform: \"next/dist/server/web/exports/{{ kebabCase member }}\"\n    }\n  };\n  const userProvidedOptimizePackageImports = ((_result_experimental7 = result.experimental) == null ? void 0 : _result_experimental7.optimizePackageImports) || [];\n  if (!result.experimental) {\n    result.experimental = {};\n  }\n  result.experimental.optimizePackageImports = [...new Set([...userProvidedOptimizePackageImports, \"lucide-react\", \"@headlessui/react\", \"@headlessui-float/react\", \"@heroicons/react/20/solid\", \"@heroicons/react/24/solid\", \"@heroicons/react/24/outline\", \"@visx/visx\", \"@tremor/react\", \"rxjs\", \"@mui/material\", \"@mui/icons-material\", \"recharts\", \"react-use\", \"@material-ui/core\", \"@material-ui/icons\", \"@tabler/icons-react\", \"mui-core\",\n  // We don't support wildcard imports for these configs, e.g. `react-icons/*`\n  // so we need to add them manually.\n  // In the future, we should consider automatically detecting packages that\n  // need to be optimized.\n  \"react-icons/ai\", \"react-icons/bi\", \"react-icons/bs\", \"react-icons/cg\", \"react-icons/ci\", \"react-icons/di\", \"react-icons/fa\", \"react-icons/fa6\", \"react-icons/fc\", \"react-icons/fi\", \"react-icons/gi\", \"react-icons/go\", \"react-icons/gr\", \"react-icons/hi\", \"react-icons/hi2\", \"react-icons/im\", \"react-icons/io\", \"react-icons/io5\", \"react-icons/lia\", \"react-icons/lib\", \"react-icons/lu\", \"react-icons/md\", \"react-icons/pi\", \"react-icons/ri\", \"react-icons/rx\", \"react-icons/si\", \"react-icons/sl\", \"react-icons/tb\", \"react-icons/tfi\", \"react-icons/ti\", \"react-icons/vsc\", \"react-icons/wi\"])];\n  return result;\n}\nasync function loadConfig(phase, dir, {\n  customConfig,\n  rawConfig,\n  silent = true,\n  onLoadUserConfig\n} = {}) {\n  if (!process.env.__NEXT_PRIVATE_RENDER_WORKER) {\n    try {\n      (0, _configutils.loadWebpackHook)();\n    } catch (err) {\n      // this can fail in standalone mode as the files\n      // aren't traced/included\n      if (!process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {\n        throw err;\n      }\n    }\n  }\n  if (process.env.__NEXT_PRIVATE_STANDALONE_CONFIG) {\n    return JSON.parse(process.env.__NEXT_PRIVATE_STANDALONE_CONFIG);\n  }\n  // For the render worker, we directly return the serialized config from the\n  // parent worker (router worker) to avoid loading it again.\n  // This is because loading the config might be expensive especiall when people\n  // have Webpack plugins added.\n  // Because of this change, unserializable fields like `.webpack` won't be\n  // existing here but the render worker shouldn't use these as well.\n  if (process.env.__NEXT_PRIVATE_RENDER_WORKER_CONFIG) {\n    return JSON.parse(process.env.__NEXT_PRIVATE_RENDER_WORKER_CONFIG);\n  }\n  const curLog = silent ? {\n    warn: () => {},\n    info: () => {},\n    error: () => {}\n  } : _log;\n  (0, _env.loadEnvConfig)(dir, phase === _constants.PHASE_DEVELOPMENT_SERVER, curLog);\n  let configFileName = \"next.config.js\";\n  if (customConfig) {\n    return assignDefaults(dir, {\n      configOrigin: \"server\",\n      configFileName,\n      ...customConfig\n    }, silent);\n  }\n  const path = await (0, _findup.default)(_constants.CONFIG_FILES, {\n    cwd: dir\n  });\n  // If config file was found\n  if (path == null ? void 0 : path.length) {\n    var _userConfig_amp, _userConfig_experimental_turbo, _userConfig_experimental, _userConfig_experimental_turbo1, _userConfig_experimental1;\n    configFileName = (0, _path.basename)(path);\n    let userConfigModule;\n    try {\n      const envBefore = Object.assign({}, process.env);\n      // `import()` expects url-encoded strings, so the path must be properly\n      // escaped and (especially on Windows) absolute paths must pe prefixed\n      // with the `file://` protocol\n      if (process.env.__NEXT_TEST_MODE === \"jest\") {\n        // dynamic import does not currently work inside of vm which\n        // jest relies on so we fall back to require for this case\n        // https://github.com/nodejs/node/issues/35889\n        userConfigModule = require(path);\n      } else {\n        userConfigModule = await import((0, _url.pathToFileURL)(path).href);\n      }\n      const newEnv = {};\n      for (const key of Object.keys(process.env)) {\n        if (envBefore[key] !== process.env[key]) {\n          newEnv[key] = process.env[key];\n        }\n      }\n      (0, _env.updateInitialEnv)(newEnv);\n      if (rawConfig) {\n        return userConfigModule;\n      }\n    } catch (err) {\n      curLog.error(`Failed to load ${configFileName}, see more info here https://nextjs.org/docs/messages/next-config-error`);\n      throw err;\n    }\n    const userConfig = await (0, _configshared.normalizeConfig)(phase, userConfigModule.default || userConfigModule);\n    if (!process.env.NEXT_MINIMAL) {\n      // We only validate the config against schema in non minimal mode\n      const {\n        configSchema\n      } = require(\"./config-schema\");\n      const state = configSchema.safeParse(userConfig);\n      if (!state.success) {\n        // error message header\n        const messages = [`Invalid ${configFileName} options detected: `];\n        const [errorMessages, shouldExit] = normalizeZodErrors(state.error);\n        // ident list item\n        for (const error of errorMessages) {\n          messages.push(`    ${error}`);\n        }\n        // error message footer\n        messages.push(\"See more info here: https://nextjs.org/docs/messages/invalid-next-config\");\n        if (shouldExit) {\n          for (const message of messages) {\n            console.error(message);\n          }\n          await (0, _flushandexit.flushAndExit)(1);\n        } else {\n          for (const message of messages) {\n            curLog.warn(message);\n          }\n        }\n      }\n    }\n    if (userConfig.target && userConfig.target !== \"server\") {\n      throw new Error(`The \"target\" property is no longer supported in ${configFileName}.\\n` + \"See more info here https://nextjs.org/docs/messages/deprecated-target-config\");\n    }\n    if ((_userConfig_amp = userConfig.amp) == null ? void 0 : _userConfig_amp.canonicalBase) {\n      const {\n        canonicalBase\n      } = userConfig.amp || {};\n      userConfig.amp = userConfig.amp || {};\n      userConfig.amp.canonicalBase = (canonicalBase.endsWith(\"/\") ? canonicalBase.slice(0, -1) : canonicalBase) || \"\";\n    }\n    if (((_userConfig_experimental = userConfig.experimental) == null ? void 0 : (_userConfig_experimental_turbo = _userConfig_experimental.turbo) == null ? void 0 : _userConfig_experimental_turbo.loaders) && !((_userConfig_experimental1 = userConfig.experimental) == null ? void 0 : (_userConfig_experimental_turbo1 = _userConfig_experimental1.turbo) == null ? void 0 : _userConfig_experimental_turbo1.rules)) {\n      curLog.warn(\"experimental.turbo.loaders is now deprecated. Please update next.config.js to use experimental.turbo.rules as soon as possible.\\n\" + \"The new option is similar, but the key should be a glob instead of an extension.\\n\" + 'Example: loaders: { \".mdx\": [\"mdx-loader\"] } -> rules: { \"*.mdx\": [\"mdx-loader\"] }\" }\\n' + \"See more info here https://nextjs.org/docs/app/api-reference/next-config-js/turbo\");\n      const rules = {};\n      for (const [ext, loaders] of Object.entries(userConfig.experimental.turbo.loaders)) {\n        rules[\"*\" + ext] = loaders;\n      }\n      userConfig.experimental.turbo.rules = rules;\n    }\n    onLoadUserConfig == null ? void 0 : onLoadUserConfig(userConfig);\n    const completeConfig = assignDefaults(dir, {\n      configOrigin: (0, _path.relative)(dir, path),\n      configFile: path,\n      configFileName,\n      ...userConfig\n    }, silent);\n    return completeConfig;\n  } else {\n    const configBaseName = (0, _path.basename)(_constants.CONFIG_FILES[0], (0, _path.extname)(_constants.CONFIG_FILES[0]));\n    const nonJsPath = _findup.default.sync([`${configBaseName}.jsx`, `${configBaseName}.ts`, `${configBaseName}.tsx`, `${configBaseName}.json`], {\n      cwd: dir\n    });\n    if (nonJsPath == null ? void 0 : nonJsPath.length) {\n      throw new Error(`Configuring Next.js via '${(0, _path.basename)(nonJsPath)}' is not supported. Please replace the file with 'next.config.js' or 'next.config.mjs'.`);\n    }\n  }\n  // always call assignDefaults to ensure settings like\n  // reactRoot can be updated correctly even with no next.config.js\n  const completeConfig = assignDefaults(dir, _configshared.defaultConfig, silent);\n  completeConfig.configFileName = configFileName;\n  (0, _setuphttpagentenv.setHttpClientAndAgentOptions)(completeConfig);\n  return completeConfig;\n}\nfunction getEnabledExperimentalFeatures(userNextConfigExperimental) {\n  const enabledExperiments = [];\n  if (!userNextConfigExperimental) return enabledExperiments;\n  // defaultConfig.experimental is predefined and will never be undefined\n  // This is only a type guard for the typescript\n  if (_configshared.defaultConfig.experimental) {\n    for (const featureName of Object.keys(userNextConfigExperimental)) {\n      if (featureName in _configshared.defaultConfig.experimental && userNextConfigExperimental[featureName] !== _configshared.defaultConfig.experimental[featureName]) {\n        enabledExperiments.push(featureName);\n      }\n    }\n  }\n  return enabledExperiments;\n}","map":{"version":3,"names":["normalizeConfig","_configshared","warnOptionHasBeenDeprecated","warnOptionHasBeenMovedOutOfExperimental","default","loadConfig","getEnabledExperimentalFeatures","processZodErrorMessage","issue","message","path","length","identifier","reduce","acc","cur","includes","replaceAll","separator","code","received","_zod","ZodParsedType","undefined","expected","util","joinValues","options","normalizeZodErrors","error","shouldExit","issues","flatMap","messages","unionErrors","map","forEach","unionMessages","unionShouldExit","push","config","nestedPropertyKey","reason","silent","current","found","nestedPropertyKeys","split","key","_log","warn","oldKey","newKey","configFileName","experimental","newKeys","shift","assignDefaults","dir","userConfig","_result_experimental","_result_experimental1","_result_experimental_serverActions","_result_experimental2","_result_experimental3","_result_experimental4","_result_experimental5","_result_experimental6","_result_devIndicators","_result_experimental7","exportTrailingSlash","trailingSlash","Object","keys","currentConfig","value","Error","userDistDir","trim","Array","isArray","ext","constructor","defaultConfig","c","k","v","result","ppr","_packagejson","version","output","i18n","_ciinfo","hasNextSupport","rewrites","redirects","headers","assetPrefix","basePath","outputFileTracingIgnores","outputFileTracingExcludes","startsWith","_result_amp","endsWith","amp","canonicalBase","images","domains","_config_assetPrefix","URL","hostname","loader","_imageconfig","imageConfigDefault","_pathhasprefix","pathHasPrefix","loaderFile","absolutePath","_path","join","_fs","existsSync","swcMinify","outputFileTracing","outputStandalone","serverActions","bodySizeLimit","_result_experimental_serverActions1","parseInt","toString","isNaN","outputFileTracingRoot","isAbsolute","resolve","useDeploymentId","process","env","NEXT_DEPLOYMENT_ID","deploymentId","useDeploymentIdServerActions","rootDir","_findroot","findRootDir","_setuphttpagentenv","setHttpClientAndAgentOptions","i18nType","locales","defaultLocaleType","defaultLocale","invalidDomainItems","filter","item","_i18n_domains","domain","console","defaultLocaleDuplicate","find","altItem","hasInvalidLocale","locale","domainItem","JSON","stringify","invalidLocales","String","normalizedLocales","Set","duplicateLocales","localeLower","toLowerCase","has","add","size","localeDetectionType","localeDetection","devIndicators","buildActivityPosition","allowedValues","userProvidedModularizeImports","modularizeImports","transform","lodash","ramda","useAccordionButton","antd","ahooks","createUpdateEffect","IconProvider","createFromIconfontCN","getTwoToneColor","setTwoToneColor","userProvidedOptimizePackageImports","optimizePackageImports","phase","customConfig","rawConfig","onLoadUserConfig","__NEXT_PRIVATE_RENDER_WORKER","_configutils","loadWebpackHook","err","__NEXT_PRIVATE_STANDALONE_CONFIG","parse","__NEXT_PRIVATE_RENDER_WORKER_CONFIG","curLog","info","_env","loadEnvConfig","_constants","PHASE_DEVELOPMENT_SERVER","configOrigin","_findup","CONFIG_FILES","cwd","_userConfig_amp","_userConfig_experimental_turbo","_userConfig_experimental","_userConfig_experimental_turbo1","_userConfig_experimental1","basename","userConfigModule","envBefore","assign","__NEXT_TEST_MODE","require","_url","pathToFileURL","href","newEnv","updateInitialEnv","NEXT_MINIMAL","configSchema","state","safeParse","success","errorMessages","_flushandexit","flushAndExit","target","slice","turbo","loaders","rules","entries","completeConfig","relative","configFile","configBaseName","extname","nonJsPath","sync","userNextConfigExperimental","enabledExperiments","featureName"],"sources":["../../src/server/config.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}