{"ast":null,"code":"/**\n * FNV-1a Hash implementation\n * @author Travis Webb (tjwebb) <me@traviswebb.com>\n *\n * Ported from https://github.com/tjwebb/fnv-plus/blob/master/index.js\n *\n * Simplified, optimized and add modified for 52 bit, which provides a larger hash space\n * and still making use of Javascript's 53-bit integer space.\n */\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  fnv1a52: null,\n  generateETag: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  fnv1a52: function () {\n    return fnv1a52;\n  },\n  generateETag: function () {\n    return generateETag;\n  }\n});\nconst fnv1a52 = str => {\n  const len = str.length;\n  let i = 0,\n    t0 = 0,\n    v0 = 0x2325,\n    t1 = 0,\n    v1 = 0x8422,\n    t2 = 0,\n    v2 = 0x9ce4,\n    t3 = 0,\n    v3 = 0xcbf2;\n  while (i < len) {\n    v0 ^= str.charCodeAt(i++);\n    t0 = v0 * 435;\n    t1 = v1 * 435;\n    t2 = v2 * 435;\n    t3 = v3 * 435;\n    t2 += v0 << 8;\n    t3 += v1 << 8;\n    t1 += t0 >>> 16;\n    v0 = t0 & 65535;\n    t2 += t1 >>> 16;\n    v1 = t1 & 65535;\n    v3 = t3 + (t2 >>> 16) & 65535;\n    v2 = t2 & 65535;\n  }\n  return (v3 & 15) * 281474976710656 + v2 * 4294967296 + v1 * 65536 + (v0 ^ v3 >> 4);\n};\nconst generateETag = (payload, weak = false) => {\n  const prefix = weak ? 'W/\"' : '\"';\n  return prefix + fnv1a52(payload).toString(36) + payload.length.toString(36) + '\"';\n};","map":{"version":3,"names":["fnv1a52","generateETag","str","len","length","i","t0","v0","t1","v1","t2","v2","t3","v3","charCodeAt","payload","weak","prefix","toString"],"sources":["../../../src/server/lib/etag.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;;;;GAQC;;;;;;;;;;;;;;;;EACYA,OAAO,WAAAA,CAAA;WAAPA,OAAA;;EAoCAC,YAAY,WAAAA,CAAA;WAAZA,YAAA;;;AApCN,MAAMD,OAAA,GAAWE,GAAA;EACtB,MAAMC,GAAA,GAAMD,GAAA,CAAIE,MAAM;EACtB,IAAIC,CAAA,GAAI;IACNC,EAAA,GAAK;IACLC,EAAA,GAAK;IACLC,EAAA,GAAK;IACLC,EAAA,GAAK;IACLC,EAAA,GAAK;IACLC,EAAA,GAAK;IACLC,EAAA,GAAK;IACLC,EAAA,GAAK;EAEP,OAAOR,CAAA,GAAIF,GAAA,EAAK;IACdI,EAAA,IAAML,GAAA,CAAIY,UAAU,CAACT,CAAA;IACrBC,EAAA,GAAKC,EAAA,GAAK;IACVC,EAAA,GAAKC,EAAA,GAAK;IACVC,EAAA,GAAKC,EAAA,GAAK;IACVC,EAAA,GAAKC,EAAA,GAAK;IACVH,EAAA,IAAMH,EAAA,IAAM;IACZK,EAAA,IAAMH,EAAA,IAAM;IACZD,EAAA,IAAMF,EAAA,KAAO;IACbC,EAAA,GAAKD,EAAA,GAAK;IACVI,EAAA,IAAMF,EAAA,KAAO;IACbC,EAAA,GAAKD,EAAA,GAAK;IACVK,EAAA,GAAKD,EAAC,IAAMF,EAAA,KAAO,EAAC,IAAM;IAC1BC,EAAA,GAAKD,EAAA,GAAK;EACZ;EAEA,OACE,CAACG,EAAA,GAAK,EAAC,IAAK,kBACZF,EAAA,GAAK,aACLF,EAAA,GAAK,SACJF,EAAA,GAAMM,EAAA,IAAM,CAAC;AAElB;AAEO,MAAMZ,YAAA,GAAeA,CAACc,OAAA,EAAiBC,IAAA,GAAO,KAAK;EACxD,MAAMC,MAAA,GAASD,IAAA,GAAO,QAAQ;EAC9B,OACEC,MAAA,GAASjB,OAAA,CAAQe,OAAA,EAASG,QAAQ,CAAC,MAAMH,OAAA,CAAQX,MAAM,CAACc,QAAQ,CAAC,MAAM;AAE3E"},"metadata":{},"sourceType":"script","externalDependencies":[]}