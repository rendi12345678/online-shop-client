{"ast":null,"code":"import React, { useEffect, useState, createContext, useReducer } from 'react';\nimport axios from 'axios';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nconst serverUrl = 'http://localhost:5000';\nexport const addProductsToState = async (endpoint, type, dispatch) => {\n  const response = await getProducts(endpoint);\n  if (response === 'FETCH_ERROR') {\n    dispatch({\n      type: 'FETCH_ERROR'\n    });\n  }\n  if (response.length !== 0) {\n    dispatch({\n      type: type,\n      payloads: response\n    });\n  }\n  console.log(response);\n};\nexport const getProducts = async endpoint => {\n  try {\n    const response = await axios.get(`${serverUrl}${endpoint}`);\n    return response.data.productData;\n  } catch (err) {\n    return 'FETCH_ERROR';\n  }\n};\nexport const sendDataToServerAndMovePage = (url, {\n  id,\n  title,\n  image,\n  description,\n  price\n}) => {\n  console.log('send data to server');\n  const productInfoUrl = `${serverUrl}/api/product-info`;\n  axios.post(productInfoUrl, {\n    title,\n    id,\n    image,\n    description,\n    price\n  }).then(res => {\n    console.log(res.data.msg);\n    if (url === '') return window.location.reload();\n    return MovePage(url);\n  }).then(err => {\n    console.log('Failed send data to server!');\n  });\n  console.log(title);\n};\nexport const MovePage = (url, navigate) => {\n  navigate(url);\n};\n_c = MovePage;\nexport const getImage = image => `/img/${image}`;\nvar _c;\n$RefreshReg$(_c, \"MovePage\");","map":{"version":3,"names":["React","useEffect","useState","createContext","useReducer","axios","Route","Routes","useNavigate","serverUrl","addProductsToState","endpoint","type","dispatch","response","getProducts","length","payloads","console","log","get","data","productData","err","sendDataToServerAndMovePage","url","id","title","image","description","price","productInfoUrl","post","then","res","msg","window","location","reload","MovePage","navigate","_c","getImage","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/belajar_programming/react-express/client/src/utils/utils.js"],"sourcesContent":["import React, {useEffect, useState, createContext, useReducer} from 'react';\nimport axios from 'axios';\nimport {Route, Routes, useNavigate} from 'react-router-dom';\n\n  const serverUrl = 'http://localhost:5000';\n  \n  export const addProductsToState = async (endpoint, type, dispatch) => {\n    const response = await getProducts(endpoint);\n    \n    if(response === 'FETCH_ERROR') {\n      dispatch({type: 'FETCH_ERROR'});\n    } \n      \n    if(response.length !== 0) {\n      dispatch({type: type, payloads: response})\n    }\n      \n    console.log(response)\n  }\n  \n  export const getProducts = async endpoint => {\n    try {\n      const response = await axios.get(`${serverUrl}${endpoint}`);\n      \n      return response.data.productData;\n    } catch(err) {\n      return 'FETCH_ERROR';\n    }\n  }\n  \n  export const sendDataToServerAndMovePage = (url, {id, title, image, description, price}) => {\n    console.log('send data to server')\n    const productInfoUrl = `${serverUrl}/api/product-info`;\n    \n    axios.post(productInfoUrl, {\n      title,\n      id,\n      image,\n      description,\n      price\n    })\n    .then(res => {\n      console.log(res.data.msg);\n      \n      if(url === '') return window.location.reload();\n      return MovePage(url);\n    })\n    .then(err => {\n      console.log('Failed send data to server!');\n    });\n    \n    console.log(title)\n  }\n  \n  export const MovePage = (url, navigate) => {\n    navigate(url);\n  }\n  \n  export const getImage = image => `/img/${image}`;"],"mappings":"AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,UAAU,QAAO,OAAO;AAC3E,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,KAAK,EAAEC,MAAM,EAAEC,WAAW,QAAO,kBAAkB;AAEzD,MAAMC,SAAS,GAAG,uBAAuB;AAEzC,OAAO,MAAMC,kBAAkB,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,IAAI,EAAEC,QAAQ,KAAK;EACpE,MAAMC,QAAQ,GAAG,MAAMC,WAAW,CAACJ,QAAQ,CAAC;EAE5C,IAAGG,QAAQ,KAAK,aAAa,EAAE;IAC7BD,QAAQ,CAAC;MAACD,IAAI,EAAE;IAAa,CAAC,CAAC;EACjC;EAEA,IAAGE,QAAQ,CAACE,MAAM,KAAK,CAAC,EAAE;IACxBH,QAAQ,CAAC;MAACD,IAAI,EAAEA,IAAI;MAAEK,QAAQ,EAAEH;IAAQ,CAAC,CAAC;EAC5C;EAEAI,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;AACvB,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAMJ,QAAQ,IAAI;EAC3C,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMT,KAAK,CAACe,GAAG,CAAE,GAAEX,SAAU,GAAEE,QAAS,EAAC,CAAC;IAE3D,OAAOG,QAAQ,CAACO,IAAI,CAACC,WAAW;EAClC,CAAC,CAAC,OAAMC,GAAG,EAAE;IACX,OAAO,aAAa;EACtB;AACF,CAAC;AAED,OAAO,MAAMC,2BAA2B,GAAGA,CAACC,GAAG,EAAE;EAACC,EAAE;EAAEC,KAAK;EAAEC,KAAK;EAAEC,WAAW;EAAEC;AAAK,CAAC,KAAK;EAC1FZ,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EAClC,MAAMY,cAAc,GAAI,GAAEtB,SAAU,mBAAkB;EAEtDJ,KAAK,CAAC2B,IAAI,CAACD,cAAc,EAAE;IACzBJ,KAAK;IACLD,EAAE;IACFE,KAAK;IACLC,WAAW;IACXC;EACF,CAAC,CAAC,CACDG,IAAI,CAACC,GAAG,IAAI;IACXhB,OAAO,CAACC,GAAG,CAACe,GAAG,CAACb,IAAI,CAACc,GAAG,CAAC;IAEzB,IAAGV,GAAG,KAAK,EAAE,EAAE,OAAOW,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC9C,OAAOC,QAAQ,CAACd,GAAG,CAAC;EACtB,CAAC,CAAC,CACDQ,IAAI,CAACV,GAAG,IAAI;IACXL,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC5C,CAAC,CAAC;EAEFD,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;AACpB,CAAC;AAED,OAAO,MAAMY,QAAQ,GAAGA,CAACd,GAAG,EAAEe,QAAQ,KAAK;EACzCA,QAAQ,CAACf,GAAG,CAAC;AACf,CAAC;AAAAgB,EAAA,GAFYF,QAAQ;AAIrB,OAAO,MAAMG,QAAQ,GAAGd,KAAK,IAAK,QAAOA,KAAM,EAAC;AAAC,IAAAa,EAAA;AAAAE,YAAA,CAAAF,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}