{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  normalizeAppPath: null,\n  normalizeRscURL: null,\n  normalizePostponedURL: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  normalizeAppPath: function () {\n    return normalizeAppPath;\n  },\n  normalizeRscURL: function () {\n    return normalizeRscURL;\n  },\n  normalizePostponedURL: function () {\n    return normalizePostponedURL;\n  }\n});\nconst _ensureleadingslash = require(\"../../page-path/ensure-leading-slash\");\nconst _segment = require(\"../../segment\");\nfunction normalizeAppPath(route) {\n  return (0, _ensureleadingslash.ensureLeadingSlash)(route.split(\"/\").reduce((pathname, segment, index, segments) => {\n    // Empty segments are ignored.\n    if (!segment) {\n      return pathname;\n    }\n    // Groups are ignored.\n    if ((0, _segment.isGroupSegment)(segment)) {\n      return pathname;\n    }\n    // Parallel segments are ignored.\n    if (segment[0] === \"@\") {\n      return pathname;\n    }\n    // The last segment (if it's a leaf) should be ignored.\n    if ((segment === \"page\" || segment === \"route\") && index === segments.length - 1) {\n      return pathname;\n    }\n    return pathname + \"/\" + segment;\n  }, \"\"));\n}\nfunction normalizeRscURL(url) {\n  return url.replace(/\\.rsc($|\\?)/,\n  // $1 ensures `?` is preserved\n  \"$1\");\n}\nfunction normalizePostponedURL(url) {\n  const parsed = new URL(url);\n  const {\n    pathname\n  } = parsed;\n  if (pathname && pathname.startsWith(\"/_next/postponed\")) {\n    parsed.pathname = pathname.substring(\"/_next/postponed\".length) || \"/\";\n    return parsed.toString();\n  }\n  return url;\n}","map":{"version":3,"names":["normalizeAppPath","normalizeRscURL","normalizePostponedURL","route","_ensureleadingslash","ensureLeadingSlash","split","reduce","pathname","segment","index","segments","_segment","isGroupSegment","length","url","replace","parsed","URL","startsWith","substring","toString"],"sources":["../../../../../src/shared/lib/router/utils/app-paths.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;EAsBgBA,gBAAgB,WAAAA,CAAA;WAAhBA,gBAAA;;EAmCAC,eAAe,WAAAA,CAAA;WAAfA,eAAA;;EAaAC,qBAAqB,WAAAA,CAAA;WAArBA,qBAAA;;;oCAtEmB;yBACJ;AAqBxB,SAASF,iBAAiBG,KAAa;EAC5C,OAAO,IAAAC,mBAAA,CAAAC,kBAAkB,EACvBF,KAAA,CAAMG,KAAK,CAAC,KAAKC,MAAM,CAAC,CAACC,QAAA,EAAUC,OAAA,EAASC,KAAA,EAAOC,QAAA;IACjD;IACA,IAAI,CAACF,OAAA,EAAS;MACZ,OAAOD,QAAA;IACT;IAEA;IACA,IAAI,IAAAI,QAAA,CAAAC,cAAc,EAACJ,OAAA,GAAU;MAC3B,OAAOD,QAAA;IACT;IAEA;IACA,IAAIC,OAAO,CAAC,EAAE,KAAK,KAAK;MACtB,OAAOD,QAAA;IACT;IAEA;IACA,IACE,CAACC,OAAA,KAAY,UAAUA,OAAA,KAAY,OAAM,KACzCC,KAAA,KAAUC,QAAA,CAASG,MAAM,GAAG,GAC5B;MACA,OAAON,QAAA;IACT;IAEA,OAAOA,QAAG,GAAS,MAAGC,OAAA;EACxB,GAAG;AAEP;AAMO,SAASR,gBAAgBc,GAAW;EACzC,OAAOA,GAAA,CAAIC,OAAO,CAChB;EACA;EACA;AAEJ;AAOO,SAASd,sBAAsBa,GAAW;EAC/C,MAAME,MAAA,GAAS,IAAIC,GAAA,CAAIH,GAAA;EACvB,MAAM;IAAEP;EAAQ,CAAE,GAAGS,MAAA;EACrB,IAAIT,QAAA,IAAYA,QAAA,CAASW,UAAU,CAAC,qBAAqB;IACvDF,MAAA,CAAOT,QAAQ,GAAGA,QAAA,CAASY,SAAS,CAAC,mBAAmBN,MAAM,KAAK;IAEnE,OAAOG,MAAA,CAAOI,QAAQ;EACxB;EAEA,OAAON,GAAA;AACT"},"metadata":{},"sourceType":"script","externalDependencies":[]}