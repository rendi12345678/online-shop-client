{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n0 && (module.exports = {\n  BaseNextRequest: null,\n  BaseNextResponse: null\n});\nfunction _export(target, all) {\n  for (var name in all) Object.defineProperty(target, name, {\n    enumerable: true,\n    get: all[name]\n  });\n}\n_export(exports, {\n  BaseNextRequest: function () {\n    return BaseNextRequest;\n  },\n  BaseNextResponse: function () {\n    return BaseNextResponse;\n  }\n});\nconst _constants = require(\"../../shared/lib/constants\");\nconst _getcookieparser = require(\"../api-utils/get-cookie-parser\");\nclass BaseNextRequest {\n  constructor(method, url, body) {\n    this.method = method;\n    this.url = url;\n    this.body = body;\n  }\n  // Utils implemented using the abstract methods above\n  get cookies() {\n    if (this._cookies) return this._cookies;\n    return this._cookies = (0, _getcookieparser.getCookieParser)(this.headers)();\n  }\n}\nclass BaseNextResponse {\n  constructor(destination) {\n    this.destination = destination;\n  }\n  // Utils implemented using the abstract methods above\n  redirect(destination, statusCode) {\n    this.setHeader(\"Location\", destination);\n    this.statusCode = statusCode;\n    // Since IE11 doesn't support the 308 header add backwards\n    // compatibility using refresh header\n    if (statusCode === _constants.PERMANENT_REDIRECT_STATUS) {\n      this.setHeader(\"Refresh\", `0;url=${destination}`);\n    }\n    return this;\n  }\n}","map":{"version":3,"names":["BaseNextRequest","BaseNextResponse","constructor","method","url","body","cookies","_cookies","_getcookieparser","getCookieParser","headers","destination","redirect","statusCode","setHeader","_constants","PERMANENT_REDIRECT_STATUS"],"sources":["../../../src/server/base-http/index.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;EAwBsBA,eAAe,WAAAA,CAAA;WAAfA,eAAA;;EAcAC,gBAAgB,WAAAA,CAAA;WAAhBA,gBAAA;;;2BAnCoB;iCAEV;AAmBzB,MAAeD,eAAA;EAIpBE,YAAmBC,MAAA,EAAuBC,GAAA,EAAoBC,IAAA,EAAY;kBAAvDF,MAAA;eAAuBC,GAAA;gBAAoBC,IAAA;EAAa;EAE3E;EAEA,IAAWC,QAAA,EAAU;IACnB,IAAI,IAAI,CAACC,QAAQ,EAAE,OAAO,IAAI,CAACA,QAAQ;IACvC,OAAQ,IAAI,CAACA,QAAQ,GAAG,IAAAC,gBAAA,CAAAC,eAAe,EAAC,IAAI,CAACC,OAAO;EACtD;AACF;AAEO,MAAeT,gBAAA;EAKpBC,YAAmBS,WAAA,EAA0B;uBAA1BA,WAAA;EAA2B;EAmC9C;EAEAC,SAASD,WAAmB,EAAEE,UAAkB,EAAE;IAChD,IAAI,CAACC,SAAS,CAAC,YAAYH,WAAA;IAC3B,IAAI,CAACE,UAAU,GAAGA,UAAA;IAElB;IACA;IACA,IAAIA,UAAA,KAAeE,UAAA,CAAAC,yBAAyB,EAAE;MAC5C,IAAI,CAACF,SAAS,CAAC,WAAY,SAAQH,WAAY,EAAC;IAClD;IACA,OAAO,IAAI;EACb;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}