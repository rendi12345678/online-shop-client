{"ast":null,"code":"// This file should be imported before any others. It sets up the environment\n// for later imports to work properly.\n// expose AsyncLocalStorage on global for react usage if it isn't already provided by the environment\n\"use strict\";\n\nif (typeof globalThis.AsyncLocalStorage !== \"function\") {\n  const {\n    AsyncLocalStorage\n  } = require(\"async_hooks\");\n  globalThis.AsyncLocalStorage = AsyncLocalStorage;\n}\nif (typeof globalThis.WebSocket !== \"function\") {\n  Object.defineProperty(globalThis, \"WebSocket\", {\n    get() {\n      return require(\"next/dist/compiled/ws\").WebSocket;\n    }\n  });\n}","map":{"version":3,"names":["globalThis","AsyncLocalStorage","require","WebSocket","Object","defineProperty","get"],"sources":["../../src/server/node-environment.ts"],"sourcesContent":[null],"mappings":"AAAA;AACA;AAEA;;;AACA,IAAI,OAAOA,UAAC,CAAmBC,iBAAiB,KAAK,YAAY;EAC/D,MAAM;IAAEA;EAAiB,CAAE,GAAGC,OAAA,CAAQ;EACpCF,UAAA,CAAmBC,iBAAiB,GAAGA,iBAAA;AAC3C;AAEA,IAAI,OAAOD,UAAC,CAAmBG,SAAS,KAAK,YAAY;EACvDC,MAAA,CAAOC,cAAc,CAACL,UAAA,EAAY,aAAa;IAC7CM,IAAA;MACE,OAAOJ,OAAA,CAAQ,yBAAyBC,SAAS;IACnD;EACF;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}